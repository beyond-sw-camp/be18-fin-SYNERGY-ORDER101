spring:
  application:
    name: order101
  datasource:
    driver-class-name: org.mariadb.jdbc.Driver
    url: jdbc:mariadb://${DB_HOST:${DB_HOST:localhost}}:${DB_PORT:${DB_PORT:3306}}/${DB_NAME:${DB_NAME:order101}}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}
  jpa:
    hibernate:
      ddl-auto: none
    open-in-view: false
    show-sql: false # 배포에서는 SQL 출력을 비활성화
    properties:
      hibernate:
        format_sql: false # 배포에서는 포맷된 SQL도 비활성화
        jdbc:
          time_zone: Asia/Seoul
  jackson:
    time-zone: Asia/Seoul
    serialization:
      write-dates-as-timestamps: false
  cache:
    type: redis
  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT}
      username: default
      password: ${REDIS_PASSWORD}

server:
  port: 8080

jwt:
  secret: ${JWT_SECRET}

ai:
  python:
    base-url: http://${AI_HOST}:${AI_PORT}/

cloud:
  aws:
    credentials:
      access-key: ${AWS_ACCESS_KEY}
      secret-key: ${AWS_SECRET_KEY}
    s3:
      bucket: order101
    region:
      static: ap-northeast-2
    stack:
      auto: false

logging:
  level:
    root: ERROR                   # 전체 애플리케이션 기본 로그 레벨 (치명적/오류만)
    com.synerge: ERROR            # 애플리케이션 패키지도 ERROR로 제한
    org.springframework.security: ERROR
    org.springframework.web.reactive.function.client: ERROR
    org.hibernate.resource.transaction: ERROR
    org.springframework.jdbc: ERROR
    org.hibernate: ERROR
    org.hibernate.SQL: ERROR
    org.hibernate.orm.jdbc.bind: ERROR
    org.hibernate.orm.query: ERROR

# 운영 환경에서는 debug/sql 로깅을 켜지 마세요.
# 필요 시 application-prod.yml을 만들어 운영 프로파일로 관리하거나 Spring Boot Actuator를 통해
# 런타임에 로그 레벨을 동적으로 조정하세요.
